The STAT IRQ is trigged by an internal signal.

This signal is set to 1 if:
    ( (LY = LYC) AND (STAT.ENABLE_LYC_COMPARE = 1) ) OR
    ( (ScreenMode = 0) AND (STAT.ENABLE_HBL = 1) ) OR
    ( (ScreenMode = 2) AND (STAT.ENABLE_OAM = 1) ) OR
    ( (ScreenMode = 1) AND (STAT.ENABLE_VBL || STAT.ENABLE_OAM) ) -> Not only VBL!!

If LCD is off, the signal is 0.

The STAT IRQ is triggered when this signal goes from 0 to 1 (rising edge). This explains some cases when the IRQ is not triggered if 2 or more events are enabled.

For example, when going from HBL to OAM mode, if STAT.ENABLE_HBL and STAT.ENABLE_OAM are enabled,
the signal will stay 1 in the transition, so no IRQ will be triggered.